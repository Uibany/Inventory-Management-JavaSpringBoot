<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="ISO-8859-1">
  <link type="text/css" media="all" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}"
    rel="stylesheet">
  <link type="text/css" media="all" href="../static/css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}"
    rel="stylesheet">
  <link type="text/css" media="all" href="../static/css/linearicons/style.css" th:href="@{/css/linearicons/style.css}"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
  <link type="text/css" media="all" href="../static/css/main.css" th:href="@{/css/main.css}" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
 
  <title>Product Listing</title>
</head>

<body>
  <div id="wrapper">
    <!-- navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid navbar-menu">
        <div class="brand">
          <a href="index.html"><img src="../static/images/logo.png" th:src="@{/images/logo.png}" alt="Logo"
              class="img-responsive logo"></a>
        </div>
        <div id="navbar-menu">
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <span>Hi, Username.</span> <i class="icon-submenu lnr lnr-chevron-down"></i></a>
              <ul class="dropdown-menu">
                <li><a href="#"><i class="lnr lnr-user"></i> <span>My Profile</span></a></li>
                <li><a href="#"><i class="lnr lnr-exit"></i> <span>Logout</span></a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- sidebar -->
    <div th:fragment="sidebar" id="sidebar-nav" class="sidebar">
      <div class="sidebar-scroll">
        <nav>
          <ul class="nav">
            <li><a th:href="@{~/}" class=""><i class="lnr lnr-home"></i><span>Dashboard</span></a></li>
            <li><a th:href="@{~/inventory/list}" class="active"><i class="lnr lnr-car"></i> <span>View
                  Products</span></a></li>
            <li><a th:href="@{~/inventory/addproduct}" class=""><i class="lnr lnr-file-add"></i><span>Stock Entry
                  Forms</span></a></li>
            <li><a th:href="@{~/invusage/showlisting}" class=""><i class="lnr lnr-list"></i> <span>Stock Usage
                  Forms</span></a></li>
            <li><a th:href="@{~/report/form}" class=""><i class="lnr lnr-chart-bars"></i> <span>Transaction
                  Report</span></a></li>
            <li><a th:href="@{~/supplier/list}" class=""><i class="lnr lnr-store"></i> <span>Manage Suppliers</span></a>
            </li>
            <li><a th:href="@{~/user/list}" class=""><i class="lnr lnr-cog"></i> <span>Manage Users</span></a></li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="main">
      <!-- MAIN CONTENT -->
      <div class="main-content">
        <div class="container-fluid">
          <div class="panel">
            <div class="panel-footer row">
              <a href="entry-form.html" th:href="@{/inventory/addproduct/}" class="btn btn-success">Create new
                inventory</a>
              <a href="add-category.html" th:href="@{/category/add}" class="btn btn-primary">Create new category</a>
              <a href="add-subcategory.html" th:href="@{/subcategory/add}" class="btn btn-info">Create new
                subcategory</a>
              <a href="add-brand.html" th:href="@{/brand/add}" class="btn btn-warning">Create new brand</a>
              <a href="ReorderReport.html" th:href="@{/inventory/report}" class="btn btn-primary">Reorder Report</a>
            </div>
          </div>

          <div class="panel">
            <div class="panel-heading">
              <h2>Product Listing</h2>
              <h3> Current stock on <span th:text=${today}>1 January 2020</span></h3>
            </div>
            <div class="panel-body"style="overflow-x:auto;">

              <form name="searchwithPage" th:action="@{'/inventory/search/page/1/5' + '?keyword=' + ${keyword} + '&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">
                <div class="input-group" style="width:310px">
                  <input type="text" name="keyword" th:value="${keyword}" required class="form-control"
                    placeholder="Search for inventory" />
                    <input type="hidden" name="sortField" th:value="${sortField}">
                    <input type="hidden" name="sortDir" th:value="${sortDir}">
                  <span class="input-group-btn"><input type="submit" value="Search" class="btn btn-primary" /></span>
                </div>
              </form>

              <br>

              <table class="table table-striped" >
                <tr>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=id&sortDir=' + ${reverseSortDir}}">
                  		ID</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=productName&sortDir=' + ${reverseSortDir}}">
                  		Name</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=description&sortDir=' + ${reverseSortDir}}">
                  		Description</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=originalPrice&sortDir=' + ${reverseSortDir}}">
                  		Original Price</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=wholesalePrice&sortDir=' + ${reverseSortDir}}">
                  		Wholesale Price</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=retailPrice&sortDir=' + ${reverseSortDir}}">
                  		Retail Price</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=partnerPrice&sortDir=' + ${reverseSortDir}}">
                  		Partner Price</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=stockQty&sortDir=' + ${reverseSortDir}}">
                  		Stock Quantity</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=reorderLevel&sortDir=' + ${reverseSortDir}}">
                  		Reorder Level</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=minimumOrder&sortDir=' + ${reverseSortDir}}">
                  		Minimum Order</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=colour&sortDir=' + ${reverseSortDir}}">
                  		Colour</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=dimension&sortDir=' + ${reverseSortDir}}">
                  		Dimension</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=subcategory&sortDir=' + ${reverseSortDir}}">
                  		Subcategory</a></th>
                  <th><a th:href="@{'/inventory/search/page/' + ${currentPage} + '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=brand&sortDir=' + ${reverseSortDir}}">
                  		Brand</a></th>
                  <th>Edit</th>
                  <th>Delete</th>
                </tr>
                <tr th:each="product:${plist}">
                  <td th:text="${product.id}">ID</td>
                  <td th:text="${product.productName}">Name</td>
                  <td th:text="${product.description}">Description</td>
                  <td th:text="${product.originalPrice}">Original Price</td>
                  <td th:text="${product.wholesalePrice}">Wholesale Price</td>
                  <td th:text="${product.retailPrice}">Retail Price</td>
                  <td th:text="${product.partnerPrice}">Partner Price</td>
                  <td th:text="${product.stockQty}">Stock Quantity</td>
                  <td th:text="${product.reorderLevel}">Reorder Level</td>
                  <td th:text="${product.minimumOrder}">Minimum Order</td>
                  <td th:text="${product.colour}">Colour</td>
                  <td th:text="${product.dimension}">Dimension</td>
                  <td th:text="${product.subcategory.subcategoryName}">Subcategory</td>
                  <td th:text="${product.brand.brandName}">Brand</td>
                  <td><a href="edit-form.html" th:href="@{/inventory/editproduct/}+${product.id}"
                      class="btn btn-success">Edit</a></td>
                  <td><a href="DeleteProduct.html" th:href="@{/inventory/deleteproduct/}+${product.id}"
                      class="btn btn-danger">Delete</a></td>
                </tr>
              </table>

            </div>

				<div>
					<div style="display: inline;"
						class = "row col-sm-10">
						<div class = "col-sm-2">
						No. of Search items: [[${totalItems}]] 
						</div>
				
				
						<div style="display: inline;" align="right">
							<ul class="pagination">
								<li><a th:if="${currentPage > 1}" th:href="@{'/inventory/search/page/' + ${currentPage - 1}+ '/'+ ${pageSize} + '?keyword=' + ${keyword} +'&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">&laquo;</a>
									<a th:unless="${currentPage >1}">&laquo;</a>
								</li>
  							
								<li th:each="i : ${#numbers.sequence(1, totalPages)}">
		 							<a th:if="${i==currentpage}" class="active" >[[${i}]]</a>
		 							<a th:unless="${i==currentpage}" th:href="@{'/inventory/search/page/' +${i} + '/'+${pageSize}  + '?keyword=' + ${keyword} +'&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}"
                       					th:text="${i}"></a>
								</li>
	
								<li><a th:if="${currentPage > totalPages}" th:href="@{'inventory/search/page/' + ${currentPage + 1}+ '/'+ ${pageSize}  + '?keyword=' + ${keyword} +'&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">&raquo;</a>
									<a th:unless="${currentPage >totalPages}">&raquo;</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
					<div>
						<div style="display: inline;"
						class = "row col-sm-10">
						<div class = "col-sm-2">
						No. of Search Result Per Page
						</div>
						
						<div style="display: inline;" align="left">
						<p> <a th:href="@{'/inventory/search/page/1/5?keyword=' + ${keyword} +'&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">5</a>
							<a th:href="@{'/inventory/search/page/1/10?keyword=' + ${keyword} +'&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">10</a>
							<a th:href="@{'/inventory/search/page/1/20?keyword=' + ${keyword} +'&sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">20</a>
						</p>
						</div>
				
				</div>



          </div>

        </div>
      </div>
    </div>
  </div>
</body>

</html>